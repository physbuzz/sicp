<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2-5-extra-polynomial-algorithms.md</title>
    <!-- MathJax for LaTeX support -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$']],
                displayMath: [['$$', '$$']]
            }
        };
    </script>
    <style>
        /* Pygments Syntax Highlighting */
        pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.codehilite .hll { background-color: #ffffcc }
.codehilite { background: #f8f8f8; }
.codehilite .c { color: #3D7B7B; font-style: italic } /* Comment */
.codehilite .err { border: 1px solid #FF0000 } /* Error */
.codehilite .k { color: #008000; font-weight: bold } /* Keyword */
.codehilite .o { color: #666666 } /* Operator */
.codehilite .ch { color: #3D7B7B; font-style: italic } /* Comment.Hashbang */
.codehilite .cm { color: #3D7B7B; font-style: italic } /* Comment.Multiline */
.codehilite .cp { color: #9C6500 } /* Comment.Preproc */
.codehilite .cpf { color: #3D7B7B; font-style: italic } /* Comment.PreprocFile */
.codehilite .c1 { color: #3D7B7B; font-style: italic } /* Comment.Single */
.codehilite .cs { color: #3D7B7B; font-style: italic } /* Comment.Special */
.codehilite .gd { color: #A00000 } /* Generic.Deleted */
.codehilite .ge { font-style: italic } /* Generic.Emph */
.codehilite .ges { font-weight: bold; font-style: italic } /* Generic.EmphStrong */
.codehilite .gr { color: #E40000 } /* Generic.Error */
.codehilite .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.codehilite .gi { color: #008400 } /* Generic.Inserted */
.codehilite .go { color: #717171 } /* Generic.Output */
.codehilite .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.codehilite .gs { font-weight: bold } /* Generic.Strong */
.codehilite .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.codehilite .gt { color: #0044DD } /* Generic.Traceback */
.codehilite .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.codehilite .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.codehilite .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.codehilite .kp { color: #008000 } /* Keyword.Pseudo */
.codehilite .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.codehilite .kt { color: #B00040 } /* Keyword.Type */
.codehilite .m { color: #666666 } /* Literal.Number */
.codehilite .s { color: #BA2121 } /* Literal.String */
.codehilite .na { color: #687822 } /* Name.Attribute */
.codehilite .nb { color: #008000 } /* Name.Builtin */
.codehilite .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.codehilite .no { color: #880000 } /* Name.Constant */
.codehilite .nd { color: #AA22FF } /* Name.Decorator */
.codehilite .ni { color: #717171; font-weight: bold } /* Name.Entity */
.codehilite .ne { color: #CB3F38; font-weight: bold } /* Name.Exception */
.codehilite .nf { color: #0000FF } /* Name.Function */
.codehilite .nl { color: #767600 } /* Name.Label */
.codehilite .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.codehilite .nt { color: #008000; font-weight: bold } /* Name.Tag */
.codehilite .nv { color: #19177C } /* Name.Variable */
.codehilite .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.codehilite .w { color: #bbbbbb } /* Text.Whitespace */
.codehilite .mb { color: #666666 } /* Literal.Number.Bin */
.codehilite .mf { color: #666666 } /* Literal.Number.Float */
.codehilite .mh { color: #666666 } /* Literal.Number.Hex */
.codehilite .mi { color: #666666 } /* Literal.Number.Integer */
.codehilite .mo { color: #666666 } /* Literal.Number.Oct */
.codehilite .sa { color: #BA2121 } /* Literal.String.Affix */
.codehilite .sb { color: #BA2121 } /* Literal.String.Backtick */
.codehilite .sc { color: #BA2121 } /* Literal.String.Char */
.codehilite .dl { color: #BA2121 } /* Literal.String.Delimiter */
.codehilite .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.codehilite .s2 { color: #BA2121 } /* Literal.String.Double */
.codehilite .se { color: #AA5D1F; font-weight: bold } /* Literal.String.Escape */
.codehilite .sh { color: #BA2121 } /* Literal.String.Heredoc */
.codehilite .si { color: #A45A77; font-weight: bold } /* Literal.String.Interpol */
.codehilite .sx { color: #008000 } /* Literal.String.Other */
.codehilite .sr { color: #A45A77 } /* Literal.String.Regex */
.codehilite .s1 { color: #BA2121 } /* Literal.String.Single */
.codehilite .ss { color: #19177C } /* Literal.String.Symbol */
.codehilite .bp { color: #008000 } /* Name.Builtin.Pseudo */
.codehilite .fm { color: #0000FF } /* Name.Function.Magic */
.codehilite .vc { color: #19177C } /* Name.Variable.Class */
.codehilite .vg { color: #19177C } /* Name.Variable.Global */
.codehilite .vi { color: #19177C } /* Name.Variable.Instance */
.codehilite .vm { color: #19177C } /* Name.Variable.Magic */
.codehilite .il { color: #666666 } /* Literal.Number.Integer.Long */

        /* Base CSS from markdown_styles.py */
        
        /* Basic reset and fonts */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            padding: 0;
            background-color: #f8f9fa;
        }

        /* Navigation styling */
        .nav {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
            padding-bottom: 0.8rem;
            border-bottom: 1px solid #e1e4e8;
        }

        .nav span {
            padding: 0.4rem 0.8rem;
            border-radius: 4px;
            font-weight: 500;
            font-size: 0.9rem;
        }

        .nav .activenav {
            background-color: #f1f8ff;
        }

        .nav .activenav a {
            color: #0366d6;
            text-decoration: none;
        }

        .nav .activenav a:hover {
            text-decoration: underline;
        }

        .nav .inactivenav {
            color: #959da5;
            background-color: #f6f8fa;
        }

        /* Center column layout */
        .container {
            max-width: 800px;
            margin: 2rem auto;
            background-color: white;
            padding: 2rem 3rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        /* Typography */
        h1 {
            font-size: 2.2rem;
            margin-bottom: 1.5rem;
            color: #2c3e50;
            border-bottom: 2px solid #eee;
            padding-bottom: 0.5rem;
        }

        h2 {
            font-size: 1.8rem;
            margin: 2rem 0 1rem;
            color: #34495e;
        }

        h3 {
            font-size: 1.5rem;
            margin: 1.8rem 0 1rem;
            color: #34495e;
        }

        h4 {
            font-size: 1.3rem;
            margin: 1.5rem 0 0.8rem;
            color: #34495e;
        }

        h5 {
            font-size: 1.1rem;
            margin: 1.2rem 0 0.8rem;
            color: #34495e;
        }

        /* Table of Contents styling */
        .table-of-contents {
            margin: 0 0 0;
            line-height: 1;
        }

        .toc-list {
            margin: 0;
            padding-left: 20px;
        }

        .toc-list li {
            margin-bottom: 2px;
        }
        .toc-list ul {
            margin-bottom: 2px;
        }

        .exercise-list {
            margin: 0;
            padding-left: 0;
            font-size: 0.95em;
            display: inline;
        }

        .exercise-container {
            display: inline-block;
            margin-top: 2px;
            line-height: 1.2;
        }

        .toc-exercises {
            font-style: italic;
            color: #555;
        }

        .exercise-list a {
            text-decoration: none;
            color: #2070b0;
            margin-right: 0;
        }

        .exercise-list a:hover {
            text-decoration: underline;
        }

        .exercise-list span:not(:last-child):after {
            content: ", ";
            color: #777;
            margin-right: 0;
        }

        /* Blockquote styling */
        blockquote {
            border-left: 4px solid #dfe2e5;
            color: #6a737d;
            padding: 0 1rem;
            margin: 1rem 0 1.5rem;
            background-color: #f6f8fa;
            border-radius: 0 3px 3px 0;
        }

        blockquote p {
            padding: 0.8rem 0;
        }

        blockquote p:first-child {
            margin-top: 0;
        }

        blockquote p:last-child {
            margin-bottom: 0;
        }

        /* Solution styling */
        h5:has(+p:contains("Solution")) {
            margin-bottom: 0;
        }

        h5:has(+p:contains("Solution")) + p {
            font-weight: bold;
            color: #3c8dbc;
            border-left: 3px solid #3c8dbc;
            padding-left: 0.8rem;
            margin: 0.5rem 0 1rem;
        }

        p {
            margin-bottom: 1rem;
        }

        /* List styling */
        ul, ol {
            margin-bottom: 1rem;
            padding-left: 2.5rem;
        }

        ul li, ol li {
            margin-bottom: 0.5rem;
        }

        /* Code blocks */
        .code-box {
            background-color: #f6f8fa;
            border-radius: 6px;
            overflow: hidden;
            margin: 1rem 0 1.5rem;
            border: 1px solid #e1e4e8;
        }

        .code-header {
            font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;
            font-size: 0.75rem;
            color: #6a737d;
            padding: 0.3rem 0 0rem 0.3rem;
            border-bottom: 1px solid #e1e4e8;
            background-color: #fafbfc;
        }

        .code-header a {
            color: #6a737d;
            text-decoration: none;
        }

        .code-header a:hover {
            text-decoration: underline;
            color: #0366d6;
        }

        /* Standalone code blocks (triple backticks) */
        .codehilite {
            background-color: #f6f8fa;
            border-radius: 6px;
            overflow-x: auto;
            margin: 1rem 0 1.5rem;
            border: 1px solid #e1e4e8;
        }

        /* When inside a code-box, remove default styling */
        .code-box .codehilite {
            margin: 0;
            padding: 0;
            border: none;
            border-radius: 0;
        }

        /* Adjust padding for code blocks inside code-box */
        .code-box .codehilite pre {
            padding: 0.2rem 0 0.3rem 0.3rem;
            overflow-x: auto;
            margin: 0;
        }

        /* Normal padding for standalone code blocks */
        .codehilite pre {
            padding: 1rem;
            overflow-x: auto;
            margin: 0;
        }

        .code-output {
            font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;
            font-size: 0.75rem;
            color: #6a737d;
            padding: 0.2rem 0 0.3rem 0.3rem;
            border-top: 1px solid #e1e4e8;
            background-color: #fafbfc;
        }
        .code-output span {
            color: #de37cc;
        }

        .code-output pre {
            margin: 0;
            white-space: pre-wrap;
            font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;
        }
        /* --- Styles for Collapsible Code Blocks --- */
        .collapsible-code {
            border: none; /* Remove default border from details */
            margin-top: 0; /* Adjust spacing if needed */
            margin-bottom: 0; /* Adjust spacing if needed */
        }

        .code-summary {
            font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;
            font-size: 0.75rem;
            color: #6a737d;
            padding: 0.5rem 0.8rem; /* Adjusted padding */
            border-bottom: 1px solid #e1e4e8;
            background-color: #fafbfc;
            cursor: pointer;
            list-style: none; /* Hide default marker */
            display: block; /* Make it block level */
            border-radius: 6px 6px 0 0; /* Round top corners like header */
            position: relative; /* For positioning the marker */
            transition: background-color 0.1s ease-in-out;
        }

        .code-summary:hover {
            background-color: #f1f3f5; /* Slight hover effect */
        }

        /* Add custom marker */
        .code-summary::before {
            content: '►'; /* Collapsed marker */
            position: absolute;
            left: 0.8rem;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.6em;
            color: #6a737d;
            margin-right: 0.5rem;
            transition: transform 0.2s ease-in-out;
        }

        .collapsible-code[open] > .code-summary::before {
            transform: translateY(-50%) rotate(90deg); /* Expanded marker */
        }

        .collapsible-code[open] > .code-summary {
             border-bottom: 1px solid #e1e4e8; /* Ensure border shows when open */
             border-radius: 6px 6px 0 0; /* Keep top rounding when open */
        }

        /* Adjust summary content positioning relative to marker */
        .code-summary a {
            margin-left: 1.2rem; /* Space for the marker */
            color: #6a737d;
            text-decoration: none;
        }
        .code-summary a:hover {
            text-decoration: underline;
            color: #0366d6;
        }

        /* New style for the expand hint */
        .expand-hint {
            font-style: italic;
            font-size: 0.85em;
            color: #888;
            margin-left: 0.5rem;
        }

        /* Ensure content inside details has appropriate spacing/styling */
        .collapsible-code > .codehilite {
            margin: 0;
            border-radius: 0 0 6px 6px; /* Round bottom corners */
            border: none; /* Remove border from codehilite itself */
            border-top: none; /* Remove top border */
        }

        /* Since code output is now outside the details element,
           we need to adjust its styling */
        .collapsible-code + .code-output {
            border-radius: 0 0 6px 6px; /* Round bottom corners */
            margin-top: 0; /* Remove gap */
            border-top: 1px solid #e1e4e8;
        }

        /* Ensure code output has proper border when outside details */
        .code-box > .code-output {
            border-top: 1px solid #e1e4e8;
        }

        .collapsible-code > .run-racket {
             margin-left: 1rem; /* Indent run button */
             margin-bottom: 1rem; /* Add bottom margin */
        }
        /* --- End Collapsible Styles --- */

        code {
            font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;
            font-size: 0.9em;
            padding: 0.2em 0.4em;
            background-color: #f6f8fa;
            border-radius: 3px;
        }

        .codehilite code {
            padding: 0;
            background-color: transparent;
        }

        /* Links */
        a {
            color: #0366d6;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        /* Run button */
        .run-racket {
            display: inline-block;
            margin-top: 0.5rem;
            margin-bottom: 1rem;
            padding: 0.4rem 0.8rem;
            background-color: #3c8dbc;
            color: white;
            border-radius: 4px;
            text-decoration: none;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .run-racket:hover {
            background-color: #367fa9;
            text-decoration: none;
        }

        /* Make LaTeX display nicely */
        .MathJax {
            overflow-x: auto;
            overflow-y: hidden;
        }
    
    </style>
</head>
<body>
    <div class="container">
        <h1>The Abstract Algebra of Chapter 2.5</h1>
<p>The system of generic operations discussed in SICP is perfect for starting a 
discussion about abstract algebra, because we've already learned
the mathematical details. So the code can be the foundation. 
Part of this article is explaining the exact same foundation using 
mathematical jargon, and then we can understand the systems and extend it to
other interesting systems.</p>
<h2>The Definition of a Ring</h2>
<p>The properties that we saw in our system of generic operations center around
a mathematical object called a ring. In SICP terms, this means that
each of our types are equipped with a <code>'mul</code>, <code>'add</code>, and <code>'negate</code> operation,
such that multiplication and addition "behave as expected." In addition, 
we need an additive identity <code>(get 'my-type 'zero)</code> and a multiplicative
identity <code>(get 'my-type 'one)</code>. </p>
<p>Our type <code>'my-type</code> is a <strong>ring</strong> if it satisfies the following four 
sets of properties. </p>
<p><strong>0.</strong> The operations <code>'add</code>, <code>'mul</code>, and <code>'negate</code> are all closed under
addition. That is, given arguments of type <code>'my-type</code>, we return values
of type <code>'my-type</code>. In addition, <code>'zero</code> and <code>'one</code> are elements of type <code>'my-type</code>.</p>
<p><strong>1.</strong> <code>'my-type</code> is an abelian group under addition, meaning the following comparisons 
return true for every input <code>a,b,c</code> of type <code>'my-input</code>.</p>
<div class="codehilite"><pre><span></span><code><span class="c1">;; Addition is commutative</span>
<span class="p">(</span><span class="nb">equal?</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">b</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="nv">b</span><span class="w"> </span><span class="nv">a</span><span class="p">))</span>
<span class="c1">;; Addition is associative</span>
<span class="p">(</span><span class="nb">equal?</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">b</span><span class="p">)</span><span class="w"> </span><span class="nv">c</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="nv">b</span><span class="w"> </span><span class="nv">c</span><span class="p">)))</span>
<span class="c1">;; The zero element, which satisfies a+0 == a</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="nv">zero</span><span class="w"> </span><span class="p">(</span><span class="nf">get</span><span class="w"> </span><span class="ss">&#39;my-type</span><span class="w"> </span><span class="ss">&#39;zero</span><span class="p">))</span>
<span class="p">(</span><span class="nb">equal?</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">zero</span><span class="p">)</span><span class="w"> </span><span class="nv">a</span><span class="p">)</span>
<span class="c1">;; Negation, there exists an additive inverse</span>
<span class="p">(</span><span class="nb">equal?</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="p">(</span><span class="nb">negate</span><span class="w"> </span><span class="nv">a</span><span class="p">))</span><span class="w"> </span><span class="nv">zero</span><span class="p">)</span>
</code></pre></div>

<p><strong>2.</strong> <code>'my-type</code> is a monoid under multiplication: </p>
<div class="codehilite"><pre><span></span><code><span class="c1">;; Multiplication is associative</span>
<span class="p">(</span><span class="nb">equal?</span><span class="w"> </span><span class="p">(</span><span class="nf">mul</span><span class="w"> </span><span class="p">(</span><span class="nf">mul</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">b</span><span class="p">)</span><span class="w"> </span><span class="nv">c</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">mul</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="p">(</span><span class="nf">mul</span><span class="w"> </span><span class="nv">b</span><span class="w"> </span><span class="nv">c</span><span class="p">)))</span>
<span class="c1">;; The multiplicative identity, which satisfies a*1 == 1*a == a</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="nv">one</span><span class="w"> </span><span class="p">(</span><span class="nf">get</span><span class="w"> </span><span class="ss">&#39;my-type</span><span class="w"> </span><span class="ss">&#39;one</span><span class="p">))</span>
<span class="p">(</span><span class="nb">equal?</span><span class="w"> </span><span class="p">(</span><span class="nf">mul</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">one</span><span class="p">)</span><span class="w"> </span><span class="nv">a</span><span class="p">)</span>
<span class="p">(</span><span class="nb">equal?</span><span class="w"> </span><span class="p">(</span><span class="nf">mul</span><span class="w"> </span><span class="nv">one</span><span class="w"> </span><span class="nv">a</span><span class="p">)</span><span class="w"> </span><span class="nv">a</span><span class="p">)</span>
</code></pre></div>

<p><strong>3.</strong> <code>'my-type</code> satisfies the distributive law with respect to addition: </p>
<div class="codehilite"><pre><span></span><code><span class="c1">;; Left-distributivity</span>
<span class="p">(</span><span class="nb">equal?</span><span class="w"> </span><span class="p">(</span><span class="nf">mul</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="nv">b</span><span class="w"> </span><span class="nv">c</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="p">(</span><span class="nf">mul</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">b</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">mul</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">c</span><span class="p">)))</span>
<span class="c1">;; Right-distributivity</span>
<span class="p">(</span><span class="nb">equal?</span><span class="w"> </span><span class="p">(</span><span class="nf">mul</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="nv">b</span><span class="w"> </span><span class="nv">c</span><span class="p">)</span><span class="w"> </span><span class="nv">a</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">add</span><span class="w"> </span><span class="p">(</span><span class="nf">mul</span><span class="w"> </span><span class="nv">b</span><span class="w"> </span><span class="nv">a</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">mul</span><span class="w"> </span><span class="nv">c</span><span class="w"> </span><span class="nv">a</span><span class="p">)))</span>
</code></pre></div>

<h2>More Examples of Rings</h2>
<p>Great! I'd like to emphasize that this is the full mathematical definition
of a ring. As such it's very general. The examples given in SICP chapter
2.5 are...</p>
<ul>
<li>The integers as <code>'scheme-number</code> (presumably). These are denoted
by $\mathbb{Z}$. </li>
<li>The rationals as <code>'rational</code>. These are denoted $\mathbb{Q}$. </li>
<li>The complex numbers as <code>'complex</code>. These are denoted $\mathbb{C}$. (I am 
completely glossing over the issues of floating point arithmetic here,
which might break some of the equalities above)</li>
<li>The polynomials <code>'polynomial</code> over any of the above rings. These are 
denoted $\mathbb{Z}[x],$ $\mathbb{Q}[x],$ and $\mathbb{C}[x].$</li>
</ul>
<p>There are loads of other rings we could define. For example, let's look at 
the integers modulo 12, denoted $\mathbb{Z}_{12}.$ These will have type <code>'int-mod-12</code> and multiplication
operation</p>
<div class="codehilite"><pre><span></span><code><span class="c1">;; inside (install-int-mod-12)</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="p">(</span><span class="n">mul</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<span class="w">  </span><span class="p">((</span><span class="nb">*</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="nb">remainder</span><span class="w"> </span><span class="mi">12</span><span class="p">))</span>
</code></pre></div>

<p>Clearly then, we have an interesting situation where <code>(mul 4 3)</code> will 
return $0$! $4$ and $3$ are called zero divisors, and we often want to work
in a ring without zero divisors. Such a ring without any zero
divisors is known as an <em>integral domain</em>, and I italicised that term because
if you're ever going to take an abstract algebra course at a university you
might as well put that on a flashcard and memorize it now!</p>
<p>Another example is that of square n-by-n matrices for some given n. Let's say
we define the type <code>'matrix-2x2</code>, and we care about matrices with integer 
coefficients. This ring is denoted $M_2(\mathbb{Z}).$ Interestingly, this ring
has zero divisors:</p>
<p>$$\begin{bmatrix} 1 &amp; 0 \\ 0 &amp; 0 \end{bmatrix}\begin{bmatrix} 0 &amp; 0 \\ 0 &amp; 1 \end{bmatrix} = \begin{bmatrix} 0 &amp; 0 \\ 0 &amp; 0 \end{bmatrix}$$</p>
<p>We can also see that this is our first example of a noncommutative ring! We can see this by observing that
$$\begin{bmatrix} 0 &amp; 1 \\ 0 &amp; 0 \end{bmatrix}\begin{bmatrix} 0 &amp; 0 \\ 1 &amp; 0 \end{bmatrix} = \begin{bmatrix} 1 &amp; 0 \\ 0 &amp; 0 \end{bmatrix},$$
while
$$\begin{bmatrix} 0 &amp; 0 \\ 1 &amp; 0 \end{bmatrix}\begin{bmatrix} 0 &amp; 1 \\ 0 &amp; 0 \end{bmatrix} = \begin{bmatrix} 0 &amp; 0 \\ 0 &amp; 1 \end{bmatrix}.$$</p>
<p>You could imagine any of these being problem sets in SICP: create a ring, 
run <code>(install-ring)</code>, and demonstrate some of its interesting properties. </p>
<h2>What properties did we see of polynomials?</h2>
<p>Let's go back to the interesting properties of <em>commutative rings</em>. That is,
rings where we have the additional property</p>
<div class="codehilite"><pre><span></span><code><span class="c1">;; Commutativity of multiplication</span>
<span class="p">(</span><span class="nb">equal?</span><span class="w"> </span><span class="p">(</span><span class="n">mul</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">mul</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="n">a</span><span class="p">))</span>
</code></pre></div>

<p>Given any ring $R$, we can define the polynomial ring $R[x].$ In fact since our
code was implemented using generics, the multiplication and addition operations
involve no extra effort on our part. The fact that $R[x]$ is a ring follows
from the fact that $R$ is a ring.</p>
<h3>A (sort of?) Interesting Isomorphism</h3>
<p>Taking this "building polynomial rings" thing to its annoying conclusion, 
what about $(R[y])[x]$? ie, polynomials
in $x$ with coefficients taken from $R[y]$? In SICP, we were given the example
of the following polynomial:</p>
<p>$$(y^2+1)x^3+(2y)x+1$$</p>
<p>which we might represent as the following data structure:</p>
<div class="codehilite"><pre><span></span><code><span class="o">&#39;</span><span class="p">(</span><span class="ss">polynomial</span><span class="w"> </span><span class="ss">x</span>
<span class="w">  </span><span class="p">(</span><span class="mi">3</span><span class="w"> </span><span class="p">(</span><span class="ss">polynomial</span><span class="w"> </span><span class="ss">y</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="w"> </span><span class="mi">1</span><span class="p">)))</span>
<span class="w">  </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="p">(</span><span class="ss">polynomial</span><span class="w"> </span><span class="ss">y</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">)))</span>
<span class="w">  </span><span class="p">(</span><span class="mi">0</span><span class="w"> </span><span class="p">(</span><span class="ss">polynomial</span><span class="w"> </span><span class="ss">y</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="w"> </span><span class="mi">1</span><span class="p">))))</span>
</code></pre></div>

<p>In exercise 2.92, we're asked to redesign the polynomial system to work with
multivariate polynomials natively. </p>
<blockquote>
<p><strong>Exercise 2.92:</strong> By imposing an ordering on variables, extend the polynomial package so that addition and multiplication of polynomials works for polynomials in different variables. (This is not easy!)</p>
</blockquote>
<p>This is an open-ended question, but in my solution, I would represent the 
polynomial above: </p>
<p>$$x^3y^2+x^3+2xy+1$$</p>
<p>With the following Lisp representation:</p>
<div class="codehilite"><pre><span></span><code><span class="o">&#39;</span><span class="p">(</span><span class="ss">polynomial-multivariate</span>
<span class="w">  </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="p">((</span><span class="ss">x</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="ss">y</span><span class="w"> </span><span class="mi">2</span><span class="p">)))</span>
<span class="w">  </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="p">((</span><span class="ss">x</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="ss">y</span><span class="w"> </span><span class="mi">0</span><span class="p">)))</span>
<span class="w">  </span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="p">((</span><span class="ss">x</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="ss">y</span><span class="w"> </span><span class="mi">1</span><span class="p">)))</span>
<span class="w">  </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="p">((</span><span class="ss">x</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="ss">y</span><span class="w"> </span><span class="mi">0</span><span class="p">))))</span>
</code></pre></div>

<p>Transforming between these two polynomial representations would be some 
function that we'd have to define, and is an example of an isomorphism:
a one-to-one invertible map that preserves multiplication/addition. 
In mathematics, we'd write:</p>
<p>$$(R[y])[x]\simeq R[x,y]$$</p>
<p>I mean, this isn't that interesting because it's something we intuitively
know. But it's a nice example where we really have to write a 
Lisp function to coerce one type into another, and we end up with a mathematical
isomorphism.</p>
<h2>The property that made me write this article</h2>
<p>Integer division: if $|b|\lt |a|$ and we want to compute <code>(remainder a b)</code>, 
we subtract off as many copies of <code>b</code> as possible until we find an integer 
with smaller absolute value than <code>b</code> or we reach zero.</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="p">(</span><span class="nb">remainder</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="k">cond</span><span class="w"> </span><span class="p">((</span><span class="nb">=</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">error</span><span class="w"> </span><span class="s2">&quot;division by zero&quot;</span><span class="p">))</span>
<span class="w">        </span><span class="p">((</span><span class="nb">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">        </span><span class="p">((</span><span class="nb">&lt;</span><span class="w"> </span><span class="p">(</span><span class="nb">abs</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">abs</span><span class="w"> </span><span class="n">b</span><span class="p">))</span><span class="w"> </span><span class="n">a</span><span class="p">)</span>
<span class="w">        </span><span class="p">(</span><span class="k">else</span><span class="w"> </span><span class="p">(</span><span class="nb">remainder</span><span class="w"> </span><span class="p">(</span><span class="nb">-</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="p">(</span><span class="nb">sgn</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">sgn</span><span class="w"> </span><span class="n">b</span><span class="p">))))</span><span class="w"> </span><span class="n">b</span><span class="p">))))</span>
</code></pre></div>

<p>Polynomial division: we saw this in exercise 2.91, to get the remainder
we subtract off the monomial with coefficient and order defined by 
the code in the book:</p>
<div class="codehilite"><pre><span></span><code><span class="w">  </span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">((</span><span class="n">new-c</span><span class="w"> </span><span class="p">(</span><span class="n">div</span><span class="w"> </span><span class="p">(</span><span class="n">coeff</span><span class="w"> </span><span class="n">t1</span><span class="p">)</span><span class="w"> </span>
<span class="w">                    </span><span class="p">(</span><span class="n">coeff</span><span class="w"> </span><span class="n">t2</span><span class="p">)))</span>
<span class="w">        </span><span class="p">(</span><span class="n">new-o</span><span class="w"> </span><span class="p">(</span><span class="nb">-</span><span class="w"> </span><span class="p">(</span><span class="n">order</span><span class="w"> </span><span class="n">t1</span><span class="p">)</span><span class="w"> </span>
<span class="w">                  </span><span class="p">(</span><span class="n">order</span><span class="w"> </span><span class="n">t2</span><span class="p">))))</span>
</code></pre></div>

<p>Because we have a division here, we should note that we only defined 
polynomial division for $\mathbb{Q}[x]$! This is actually a deep insight, 
and we cannot perform a simple Euclidean division algorithm over 
$\mathbb{Z}[x].$ In fact, this is what exercise 2.95 shows: with our
default algorithm, we find:
$$\textrm{GCD}\left( (x^2-2x+1)(11x^2+7) , (x^2-2x+1)(13x+5)\right)=\frac{1458}{169}x^2-\frac{2916}{169} x + \frac{1458}{169}$$
we say that "the GCD is only defined up to multiplication by units." In this 
context a unit is an invertible element of the base ring $\mathbb{Q}.$ Because
every element in $\mathbb{Q}$ except zero is invertible, our GCD is only 
defined up to multiplication by rational numbers.</p>
<p>What other rings have a Euclidean algorithm? Such domains are called 
<em>Euclidean domains.</em> If you plan on going to grad school for math, 
you might as well put this on a flash card and memorize it now! Well, 
it's probably better to memorize the <a href="">wikipedia definition</a>. </p>
<p>A Euclidean domain is a commutative ring $R$ with no zero divisors, endowed
with a function $f:R\to \mathbb{Z}^{\ge 0}$ such that, we can perform division
with remainder. eg, for any two elements $a$ and $b$, there exist $q$ and 
$r$ such that $a=bq+r$ and either $r=0$ or $f(r)\lt f(b).$ </p>
<p>So long as we have such a function, we can always perform the Euclidean
GCD algorithm and, assuming that the elements $q$ and $r$ can be found 
algorithmically, it will always terminate after a finite number of steps! </p>
<p>Examples of Euclidean domains include...</p>
<ul>
<li>The Gaussian integers $\mathbb{Z}[i],$ that is complex numbers of the form
${a+bi : (a,b)\in\mathbb{Z}^2}.$ This is also known as "the ring of integers of $\mathbb{Q}[\sqrt{-1}].$"</li>
<li>The Eisenstein integers $\mathbb{Z}[e^{2\pi i/3}],$ that is complex numbers of the form
${a+be^{2\pi i/3} : (a,b)\in\mathbb{Z}^2}.$ Note that $e^{2\pi i/3}=(-1+\sqrt{-3})/2,$ and so the Eistenstein integers are also "the ring of integers of $\mathbb{Q}[\sqrt{-3}].$"</li>
<li>The ring $\mathbb{Z}[\sqrt{2}],$ that is real numbers of the form ${a+b\sqrt{2} :  (a,b)\in\mathbb{Z}^2}.$ You guessed it, these are "the ring of integers of $\mathbb{Q}[\sqrt{2}].$"</li>
</ul>
<h2>The Gaussian integers</h2>
<h3>SICP-style package for the Gaussian Integers</h3>
<p>gcd algorithm</p>
<p>frequency of coprime numbers</p>
<h3>Gaussian coprime numbers</h3>
<p>frequency of coprime numbers</p>
<h3>Finding and plotting Gaussian primes</h3>
<h2>The Eisenstein integers</h2>
<p>gcd</p>
<p>coprime</p>
<h1>Scratchwork</h1>
<ul>
<li>We saw how long division works for polynomials</li>
<li>The example with $P_1,$ $P_2,$ $P_3$ is particularly illustrative.</li>
<li>In general, a division algorithm works on something called a Euclidean Domain.</li>
</ul>
<p>From Aluffi's "Algebra: Chapter 0", we have</p>
<p><strong>Definition 2.7.</strong> A <em>Euclidean valuation</em> on an integral domain R is a function $v:R\setminus {0}\to \mathbb{Z}^{\ge 0}$ satisfying the following property: for all $a\in R$ and all nonzero $b\in R$ there exist
$q, r \in R$ such that $a = qb + r,$ with either $r = 0$ or $v(r) &lt; v(b)$. An integral domain B is a Euclidean domain if it admits a Euclidean valuation.</p>
<p>So, if we have such a property, then we can always do a GCD algorithm. Each time we apply Euclidean division, we get a remainder $r$ whose valuation is one lower. </p>
<p>Our Euclidean algorithm is...</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="p">(</span><span class="nb">gcd</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>
<span class="w">  </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">apply-generic</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">=zero?</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="n">a</span>
<span class="w">    </span><span class="p">(</span><span class="nb">gcd</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="p">(</span><span class="n">apply-generic</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">remainder</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">))))</span>
</code></pre></div>

<p>At each step we reduce the valuation of our arguments by one. We may have a $b$ which isn't
zero but with a zero valuation, but this means that on the next step $(remainder a b)$ 
returns an element of the ring which either has lower valuation or which is equal to zero. 
Since it's not possible to have a negative valuation, this must return zero. So this
proves that the Euclidean algorithm terminates after a finite number of steps.</p>
<p>As we saw, things are only defined up to <strong>units</strong>. So we have to define units somewhere here.</p>
<p>Also, define coprime in this context. </p>
<p>It would be nice to have a factorization algorithm, but this gets quite complicated. Kronecker's method can be mentioned.</p>
<p>https://www.semanticscholar.org/paper/A-Stroll-Through-the-Gaussian-Primes-Gethner-Wagon/7b7eb90bdbc4b37822ff92875870d0fa4d4fcc2a/figure/2
https://www.semanticscholar.org/paper/A-Stroll-Through-the-Gaussian-Primes-Gethner-Wagon/7b7eb90bdbc4b37822ff92875870d0fa4d4fcc2a/figure/4
https://www.mathpuzzle.com/Gaussians.html
http://www.asiapacific-mathnews.com/06/0602/0010_0014.pdf</p>
    </div>
</body>
</html>
